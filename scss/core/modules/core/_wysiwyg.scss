// WYSIWYG Module with Vertical Rhythm
// * Applies consistent vertical rhythm to content within .wysiwyg containers
// * Uses CSS custom properties for easy customization
// * Simple hierarchical approach with standard HTML elements

@use '~@place/core/mixins/vertical-rhythm' as rhythm;

// WYSIWYG container with vertical rhythm
.wysiwyg {
	// CSS Custom Properties for spacing control
	--rhythm-space-modifier: 1;
	--rhythm-heading-large: 2;
	--rhythm-heading-medium: 1.5;
	--rhythm-heading-small: 1.25;
	--rhythm-paragraph: 1;
	--rhythm-list: 1;
	--rhythm-blockquote: 1.5;
	--rhythm-code: 1;
	--rhythm-table: 1.5;
	--rhythm-media: 1.5;
	--rhythm-hr: 2;
	--rhythm-tight-after-heading: 0.5;
	--rhythm-nested-list: 0.5;
	--rhythm-first-child: 0;
	
	// Hierarchical heading spacing
	h1,
	h2 {
		@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-heading-large) * var(--rhythm-space-modifier)));
	}
	
	h3,
	h4 {
		@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-heading-medium) * var(--rhythm-space-modifier)));
	}
	
	h5,
	h6 {
		@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-heading-small) * var(--rhythm-space-modifier)));
	}
	
	// Spacing after headings
	h1 + *,
	h2 + *,
	h3 + *,
	h4 + *,
	h5 + *,
	h6 + * {
		@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-tight-after-heading) * var(--rhythm-space-modifier)));
	}
	
	// List spacing
	ul, ol {
		@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-list) * var(--rhythm-space-modifier)));
		
		// Nested lists
		ul, ol {
			@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-nested-list) * var(--rhythm-space-modifier)));
		}
	}
	
	// Paragraph spacing
	p {
		@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-paragraph) * var(--rhythm-space-modifier)));
	}
	
	// Blockquote spacing
	blockquote {
		@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-blockquote) * var(--rhythm-space-modifier)));
	}
	
	// Code block spacing
	pre,
	code {
		@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-code) * var(--rhythm-space-modifier)));
	}
	
	// Table spacing
	table {
		@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-table) * var(--rhythm-space-modifier)));
	}
	
	// Image spacing
	img,
	figure {
		@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-media) * var(--rhythm-space-modifier)));
	}
	
	// HR spacing
	hr {
		@include rhythm.rhythm-margin-block-start(calc(var(--rhythm-hr) * var(--rhythm-space-modifier)));
	}
	
	// First child margin override
	> *:first-child {
		margin-block-start: calc(var(--rhythm-first-child) * var(--rhythm-space-modifier));
	}
}